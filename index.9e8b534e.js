class t{constructor(t){this.game=t,this.width=150,this.height=20,this.maxSpeed=7,this.speed=0,this.position={x:t.gameWidth/2-this.width/2,y:t.gameHeight-this.height-10}}moveLeft(){this.speed=-this.maxSpeed}moveRight(){this.speed=this.maxSpeed}stop(){this.speed=0}draw(t){t.fillStyle="#0ff",t.fillRect(this.position.x,this.position.y,this.width,this.height)}update(t){this.position.x+=this.speed,this.position.x<0&&(this.position.x=0),this.position.x+this.width>this.game.gameWidth&&(this.position.x=this.game.gameWidth-this.width)}}class e{constructor(t){document.addEventListener("keydown",(e=>{switch(e.key){case"ArrowLeft":t.paddle.moveLeft();break;case"ArrowRight":t.paddle.moveRight();break;case"Escape":t.togglePause();break;case" ":t.start()}})),document.addEventListener("keyup",(e=>{switch(e.key){case"ArrowLeft":t.paddle.speed<0&&t.paddle.stop();break;case"ArrowRight":t.paddle.speed>0&&t.paddle.stop()}}))}}function i(t,e){let i=t.position.y,s=t.position.y+t.size,h=e.position.y,a=e.position.x,o=e.position.x+e.width,l=e.position.y+e.height;return s>=h&&i<=l&&t.position.x>=a&&t.position.x+t.size<=o}class s{constructor(t){this.game=t,this.image=document.getElementById("img_ball"),this.size=16,this.reset()}reset(){this.speed={x:4,y:4},this.position={x:10,y:400}}draw(t){t.drawImage(this.image,this.position.x,this.position.y,this.size,this.size)}update(t){this.position.x+=this.speed.x,this.position.y+=this.speed.y,(this.position.x+this.size>this.game.gameWidth||this.position.x<0)&&(this.speed.x=-this.speed.x),this.position.y<0&&(this.speed.y=-this.speed.y),this.position.y+this.size>this.game.gameHeight&&(this.game.lives--,this.reset()),i(this,this.game.paddle)&&(this.speed.y=-this.speed.y)}}class h{constructor(t,e){this.game=t,this.image=document.getElementById("img_brick"),this.position=e,this.width=80,this.height=24,this.markedForDeletion=!1}update(){i(this.game.ball,this)&&(this.game.ball.speed.y=-this.game.ball.speed.y,this.markedForDeletion=!0)}draw(t){t.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)}}const a=[[0,0,0,1,0,0,0,0,0,0]],o=[[0,1,0,1,0,1,0,1,0,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1]],l=0,g=1,d=2,r=3,m=4;var n=document.getElementById("gameScreen").getContext("2d");let p=new class{constructor(i,h){this.gameWidth=i,this.gameHeight=h,this.gameState=d,this.lives=3,this.paddle=new t(this),this.ball=new s(this),this.bricks=[],this.gameObjects=[],this.levels=[a,o],this.currentLevel=0,new e(this)}start(){this.gameState!==d&&this.gameState!==m||(this.bricks=function(t,e){let i=[];return e.forEach(((e,s)=>{e.forEach(((e,a)=>{if(1===e){let e={x:80*a,y:20+24*s};i.push(new h(t,e))}}))})),i}(this,this.levels[this.currentLevel]),this.ball.reset(),this.gameObjects=[this.ball,this.paddle],this.gameState=g)}update(t){0===this.lives&&(this.gameState=r),this.gameState!==l&&this.gameState!==d&&this.gameState!==r&&(0===this.bricks.length&&(this.currentLevel++,this.gameState=m,this.start()),[...this.gameObjects,...this.bricks].forEach((e=>{e.update(t)})),this.bricks=this.bricks.filter((t=>!t.markedForDeletion)))}draw(t){[...this.gameObjects,...this.bricks].forEach((e=>{e.draw(t)})),this.gameState===l&&(t.fillStyle="rgba(0,0,0,0.5)",t.fillRect(0,0,this.gameWidth,this.gameHeight),t.font="30px Arial",t.fillStyle="white",t.textAlign="center",t.fillText("Paused",this.gameWidth/2,this.gameHeight/2)),this.gameState===d&&(t.fillStyle="rgba(0,0,0,1)",t.fillRect(0,0,this.gameWidth,this.gameHeight),t.font="30px Arial",t.fillStyle="white",t.textAlign="center",t.fillText("Press SPACEBAR to start",this.gameWidth/2,this.gameHeight/2)),this.gameState===r&&(t.fillStyle="rgba(0,0,0,1)",t.fillRect(0,0,this.gameWidth,this.gameHeight),t.font="30px Arial",t.fillStyle="white",t.textAlign="center",t.fillText("GAME OVER",this.gameWidth/2,this.gameHeight/2))}togglePause(){this.gameState===l?this.gameState=g:this.gameState=l}}(800,600),c=0;requestAnimationFrame((function t(e){let i=e-c;c=e,n.clearRect(0,0,800,600),p.update(i),p.draw(n),requestAnimationFrame(t)}));
//# sourceMappingURL=index.9e8b534e.js.map
